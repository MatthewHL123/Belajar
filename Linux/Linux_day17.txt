Hari 17: Shell Scripting Lanjutan
Buat script untuk backup otomatis. Pelajari tentang variabel, loop, dan kondisi.

Apa Itu Shell Scripting Lanjutan? ğŸ¤“

Shell script itu kayak asisten pribadi yang bantu kita otomatisasi kerjaan di Linux. Di level lanjutan ini, kita bakal bikin script yang bisa mikir: kapan harus jalan, apa yang harus dilupain, dan apa yang harus disimpan. Bayangin punya robot kecil yang nge-backup data kita tanpa perlu disuruh tiap hari.

ğŸ¯ Tujuan Hari Ini

- Memahami variabel dalam shell script.

- Menggunakan loop untuk melakukan perintah berulang kali.

- Memanfaatkan kondisi (if-else) untuk logika dalam script.

- Membuat script backup otomatis dengan timestamp.

ğŸ›  Konsep Dasar yang Harus Dipahami

ğŸ”¹ 1. Variabel di Shell Scripting
Variabel di shell scripting digunakan untuk menyimpan nilai sementara yang bisa digunakan kembali.

ğŸ“Œ Contoh Variabel

---------------
#!/bin/bash
nama="Matthew"
usia=25

echo "Halo, nama saya $nama dan saya berusia $usia tahun."
---------------

nama="Matthew" â†’ Variabel string.

usia=25 â†’ Variabel angka.

echo â†’ Menampilkan teks ke terminal.

ğŸ“ Tugas 1:
Buat script yang menyimpan nama dan umur dalam variabel lalu menampilkannya dengan echo.

ğŸ”¹ 2. Loop (Perulangan) di Shell Scripting
Loop digunakan untuk menjalankan perintah secara berulang.

ğŸ“Œ Contoh Loop (For)

---------------
#!/bin/bash

for angka in {1..5}
do
  echo "Angka ke-$angka"
done
--------------

{1..5} â†’ Loop dari 1 sampai 5.
do ... done â†’ Perintah yang dieksekusi dalam loop.

ğŸ“ Tugas 2:
Buat script yang menampilkan angka dari 1 sampai 10 menggunakan loop.

ğŸ”¹ 3. Kondisi (If-Else) di Shell Scripting
Digunakan untuk mengecek suatu kondisi, mirip dengan if di bahasa pemrograman lain.

ğŸ“Œ Contoh If-Else

---------------
#!/bin/bash

angka=10

if [ $angka -gt 5 ]; then
  echo "Angka lebih besar dari 5"
else
  echo "Angka kurang dari atau sama dengan 5"
fi
---------------

[ $angka -gt 5 ] â†’ Mengecek apakah angka lebih besar dari 5.

then ... fi â†’ Bagian kode yang dijalankan jika kondisi benar.

ğŸ“ Tugas 3:
Buat script yang meminta user memasukkan angka, lalu mengecek apakah angka tersebut genap atau ganjil.

ğŸ”¹ 4. Membuat Script Backup Otomatis
Sekarang kita gabungkan semua konsep di atas untuk membuat script backup otomatis.

ğŸ“Œ Cara Kerja Backup Script

- Tentukan folder sumber yang ingin di-backup.

- Tentukan folder tujuan untuk menyimpan backup.

- Gunakan tanggal otomatis dalam nama file backup.

- Gunakan if-else untuk mengecek apakah backup berhasil.


ğŸ“Œ Step-by-Step Membuat Script Backup

1ï¸âƒ£ Buat file script baru

nano backup.sh

2ï¸âƒ£ Tulis script di dalamnya

#!/bin/bash

# Variabel
sumber="/home/matthew/Documents"
tujuan="/home/matthew/Backup"
tanggal=$(date +"%Y-%m-%d_%H-%M-%S")
backup_file="$tujuan/backup_$tanggal.tar.gz"

# Cek apakah folder tujuan ada
if [ ! -d "$tujuan" ]; then
  echo "Membuat folder backup..."
  mkdir -p "$tujuan"
fi

# Jalankan backup
echo "Memulai backup dari $sumber ke $backup_file"
tar -czf "$backup_file" "$sumber"

# Cek apakah backup berhasil
if [ $? -eq 0 ]; then
  echo "Backup berhasil: $backup_file"
else
  echo "Backup gagal!"
fi

3ï¸âƒ£ Simpan file lalu beri izin eksekusi

chmod +x backup.sh

4ï¸âƒ£ Jalankan script

./backup.sh

ğŸ”¹ Tugas Akhir Hari 17

Sekarang giliran kamu! Buat script backup otomatis yang bisa dijalankan secara berkala, dengan tambahan fitur:

âœ… Meminta user memasukkan folder yang ingin di-backup.

âœ… Mengecek apakah folder sumber ada sebelum backup.

âœ… Menampilkan pesan sukses atau gagal.

ğŸ¯ Kesimpulan

Variabel menyimpan nilai untuk digunakan kembali.

Loop menjalankan perintah berulang kali.

If-Else digunakan untuk mengecek kondisi.

Script backup otomatis bisa dibuat dengan tar dan date.



Tambahan

ğŸ”¹ Aturan Penggunaan (( )) vs [ ]
1ï¸âƒ£ Gunakan [ ] untuk Perbandingan Angka (-lt, -gt, -eq)
ğŸ“Œ [ ] digunakan untuk membandingkan angka dengan operator seperti:

-lt (less than / lebih kecil)
-gt (greater than / lebih besar)
-eq (equal / sama dengan)
-ne (not equal / tidak sama)
-le (less than or equal / lebih kecil atau sama)
-ge (greater than or equal / lebih besar atau sama)

âœ… Contoh: Menentukan angka lebih besar atau lebih kecil

#!/bin/bash

angka=15

if [ $angka -gt 10 ]; then
  echo "Angka lebih besar dari 10"
else
  echo "Angka 10 atau lebih kecil"
fi

Penjelasan:

[ $angka -gt 10 ] â†’ Memeriksa apakah angka lebih besar dari 10.

2ï¸âƒ£ Gunakan (( )) untuk Operasi Aritmatika (Modulus, Penjumlahan, dll.)

ğŸ“Œ (( )) digunakan untuk operasi aritmatika, seperti:

+ (penjumlahan)
- (pengurangan)
* (perkalian)
/ (pembagian)
% (modulus/sisa bagi)

âœ… Contoh: Menentukan genap atau ganjil

#!/bin/bash

angka=11

if (( angka % 2 == 0 )); then
  echo "Angka genap"
else
  echo "Angka ganjil"
fi

Penjelasan:

(( angka % 2 == 0 )) â†’ Menggunakan (( )) karena % adalah operasi aritmatika.

ğŸ¯ Kesimpulan

Kondisi	Gunakan	Contoh
Perbandingan angka (lebih besar/kecil)	[ ]	[ $angka -gt 10 ]
Aritmatika (modulus, tambah, kali)	(( ))	(( angka % 2 == 0 ))

ğŸ”¥ Rekomendasi:

Gunakan [ ] untuk membandingkan angka.
Gunakan (( )) untuk operasi aritmatika.
Jadi kalau mau cek angka genap/ganjil, gunakan (( )). Kalau mau cek angka lebih besar/kecil, gunakan [ ]. ğŸš€